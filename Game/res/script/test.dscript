
set const c = 8;
set const r = 50;

set dir = 0;
set inv = false;

while(true){
    for(d in 0, 360/c, 360){
        laser(dir + d);
    }
    
    dir += 15;
    inv = !inv;
    
    wait 90;
}

task laser(dir){
    set type = _laser_helix;
    set color = _red;
    set angvel = 0.05;
    
    if(inv){
        type = _laser_dist;
        color = _blue;
        angvel *= -1;
    }
    
    set l = laser(type, color, _cx + r*cos(dir), 140 + r*sin(dir), dir, 400, 64, 30);
    l.setAdditive();
    
    set c = 0;
    
    while(!l.isDeleted()){
        
        l.setX(_cx + r*cos(dir));
        l.setY(140 + r*sin(dir));
        l.setDir(dir);
        
        dir += angvel;
        c++;
        
        if(c > 120){
            l.delete();
        }
        
        wait;
    }
}